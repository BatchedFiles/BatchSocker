# BatchSocker

Утилита, отправляющая данные на сервер из потока ввода. Утилита подойдёт в тех случах, когда необходимо вывод одной программы отправить на сервер.

Программа читает строки данных из стандартного потока ввода функцией `ReadConsole`, преобразует их в массив байт в кодировке UTF-8 и отправляет на сервер. Если поток ввода перенаправлен, то программа читает данные функцией `ReadFile` и отправляет их на сервер как есть.

Также программа принимает ответ сервера, поступившие байты перекодируются из UTF-8 в строку и выводятся на консоль функцией `WriteConsole`. Если поток вывода перенаправлен, то программа записывает в него байты ответа сервера как есть функцией `WriteFile`.


## Параметры

```
bs сервер порт [локальный‐адрес [локальный‐порт]]
```

<dl>
<dt>сервер</dt>
<dd>Доменное имя или адрес сервера.</dd>

<dt>порт</dt>
<dd>Порт для соединения с сервером.</dd>

<dt>локальный‐адрес</dt>
<dd>Адрес сетевой карты для привязки, с которого будет идти запрос на сервер. Необязателен.</dd>

<dt>локальный‐порт</dt>
<dd>Порт для привязки, с которого будет идти запрос на сервер. Необязателен.</dd>

</dl>


## Примеры

Чтение данных из консоли и отправка их на сервер. Полученные данные с сервера выводятся на консоль:

```
bs chat.freenode.net 6667
```

Чтение данных из консоли и отправка их на сервер. Полученные данные с сервера записываются в файл `file.log`:

```
bs chat.freenode.net 6667 > file.log
```

Чтение данных из файла и отправка их на сервер. Полученные данные с сервера выводятся на консоль:

```
bs chat.freenode.net 6667 < input.txt
```

Чтение данных из файла и отправка их на сервер. Полученные данные с сервера выводятся в файл:

```
bs chat.freenode.net 6667 < input.txt > file.log
```

Конвейрная обработка, вывод одной программы подаётся на ввод другой и наоборот.

```
script.vbs | bs chat.freenode.net 6667
```


## Компиляция

```
fbc -mt bs.bas Network.bas WriteLine.bas version.rc
```
